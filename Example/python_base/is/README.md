## Python 中 is 和 == 的区别
<!-- vim-markdown-toc GFM -->

* [Python 中对象包含的三个基本要素](#python-中对象包含的三个基本要素)
* [is 和 == 区别](#is-和--区别)
    * [== 用来比较判断两个对象的 value（值）是否相等](#-用来比较判断两个对象的-value值是否相等)
    * [is 用来判断对象的 id 是否相等](#is-用来判断对象的-id-是否相等)

<!-- vim-markdown-toc -->

## Python 中对象包含的三个基本要素

Python 中有很多运算符，今天我们就来讲讲 is 和 == 两种运算符在应用上的本质区别是什么。

在讲 is 和 == 这两种运算符区别之前，首先要知道 Python 中对象包含的三个基本要素，分别是：id（身份标识）、type（数据类型）和 value（值）。

## is 和 == 区别

is 和 == 都是对对象进行比较判断作用的，但对对象比较判断的内容并不相同。下面来看看具体区别在哪。

== 比较操作符和 is 同一性运算符区别

### == 用来比较判断两个对象的 value（值）是否相等

== 是 python 标准操作符中的比较操作符，用来比较判断两个对象的 value（值）是否相等，例如下面两个字符串间的比较：

例 1.

```
>>> a = 'cheesezh'
>>> b = 'cheesezh'
>>> a == b
True
```

### is 用来判断对象的 id 是否相等

is 也被叫做同一性运算符，这个运算符比较判断的是对象间的唯一身份标识，也就是 id 是否相同。通过对下面几个 list 间的比较，你就会明白 is 同一性运算符的工作原理：

例 2.

```
>>> x = y = [4,5,6]
>>> z = [4,5,6]
>>> x == y
True
>>> x == z
True
>>> x is y
True
>>> x is z
False
>>>
>>> print id(x)
3075326572
>>> print id(y)
3075326572
>>> print id(z)
3075328140
```
前三个例子都是 True，这什么最后一个是 False 呢？x、y 和 z 的值是相同的，所以前两个是 True 没有问题。至于最后一个为什么是 False，看看三个对象的 id 分别是什么就会明白了。

下面再来看一个例子，例 3 中同一类型下的 a 和 b 的（a==b）都是为 True，而（a is b）则不然。

例 3.

```
>>> a = 1 #a 和 b 为数值类型
>>> b = 1
>>> a is b
True
>>> id(a)
14318944
>>> id(b)
14318944
>>> a = 'cheesezh' #a 和 b 为字符串类型
>>> b = 'cheesezh'
>>> a is b
True
>>> id(a)
42111872
>>> id(b)
42111872
>>> a = (1,2,3) #a 和 b 为元组类型
>>> b = (1,2,3)
>>> a is b
False
>>> id(a)
15001280
>>> id(b)
14790408
>>> a = [1,2,3] #a 和 b 为 list 类型
>>> b = [1,2,3]
>>> a is b
False
>>> id(a)
42091624
>>> id(b)
42082016
>>> a = {'cheese':1,'zh':2} #a 和 b 为 dict 类型
>>> b = {'cheese':1,'zh':2}
>>> a is b
False
>>> id(a)
42101616
>>> id(b)
42098736
>>> a = set([1,2,3])#a 和 b 为 set 类型
>>> b = set([1,2,3])
>>> a is b
False
>>> id(a)
14819976
>>> id(b)
14822256

```

通过例 3 可看出，只有数值型和字符串型的情况下，a is b 才为 True，当 a 和 b 是 tuple，list，dict 或 set 型时，a is b 为 False。
